# Day 17

> 2020-07-04

## rCore-mips

遇到了几个问题。

- 创建目录的时候报错，user_img 越界。

解决方案：有两个，一个是扩大 user_img ，但是并没有找到合适的办法；另一个是直接在 user_img 打包前手动创建好目录。

- TLB Store Miss

没搞定，mips 的 TLB 居然不是由硬件实现的。。。

一直在往 `0xffffffff` 里写东西，也不知道为啥。反汇编出来看了半天也没什么头绪。

直接 `epc += 4` 跳过这一行，会数组越界，但是不会提示是哪里的数组。。。

最后发现是 paging 炸了，有一个获取当前页表的函数，返回的数就是 `0xffffffff` 。。。虽然我也不知道为什么会这样。。。不过好歹破案了，明天再写。。。
